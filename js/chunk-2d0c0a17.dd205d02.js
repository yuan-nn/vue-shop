(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c0a17"],{4335:function(e,r,s){"use strict";s.r(r);var t=function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",{staticClass:"m_r"},[e._m(0),s("main",{staticClass:"user_login_box"},[s("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"用户名",prop:"username"}},[s("el-input",{attrs:{placeholder:"用户名/邮箱/手机号"},model:{value:e.ruleForm.username,callback:function(r){e.$set(e.ruleForm,"username",e._n(r))},expression:"ruleForm.username"}})],1),s("el-form-item",{attrs:{label:"密码",prop:"pass"}},[s("el-input",{attrs:{type:"password",autocomplete:"off",placeholder:"请输入密码"},model:{value:e.ruleForm.pass,callback:function(r){e.$set(e.ruleForm,"pass",r)},expression:"ruleForm.pass"}})],1),s("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[s("el-input",{attrs:{type:"password",autocomplete:"off",placeholder:"请再次输入密码"},model:{value:e.ruleForm.checkPass,callback:function(r){e.$set(e.ruleForm,"checkPass",r)},expression:"ruleForm.checkPass"}})],1),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitForm("ruleForm")}}},[e._v("注册")])],1)],1)],1)])},a=[function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("header",{staticClass:"top_bar"},[s("a",{staticClass:"icon_back",attrs:{onclick:"window.history.go(-1)"}}),s("h3",{staticClass:"cartname"},[e._v("京东注册")])])}],o={data:function(){var e=this,r=function(e,r,s){if(!r)return s(new Error("用户名不能为空"))},s=function(r,s,t){""===s?t(new Error("请输入密码")):(""!==e.ruleForm.checkPass&&e.$refs.ruleForm.validateField("checkPass"),t())},t=function(r,s,t){""===s?t(new Error("请再次输入密码")):s!==e.ruleForm.pass?t(new Error("两次输入密码不一致!")):t()};return{ruleForm:{pass:"",checkPass:"",username:""},rules:{pass:[{validator:s,trigger:"blur"}],checkPass:[{validator:t,trigger:"blur"}],username:[{validator:r,trigger:"blur"}]}}},methods:{submitForm:function(e){var r=this;this.$refs[e].validate((function(e){if(!e)return!1;r.$http.post("/login",{loginName:r.username,loginPawd:r.password}).then((function(e){if(200===e.status)if(r.userInfo=e.data,1===r.userInfo.status){window.sessionStorage.userInfo=JSON.stringify(r.userInfo),r.$store.dispatch("setUserInfo",userInfo);var s=decodeURIComponent(r.$route.query.redirect||"/");r.$router.push({path:s})}else alert(r.userInfo.msg);else alert("请求出现错误")}))}))},resetForm:function(e){this.$refs[e].resetFields()}}},l=o,n=s("2877"),u=Object(n["a"])(l,t,a,!1,null,null,null);r["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d0c0a17.dd205d02.js.map